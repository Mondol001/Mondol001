<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Entry App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Data Entry App</h1>
        <div class="total-amount-box" id="totalAmount">Total: ৳ 0</div>
        <form id="entryForm">
            <div class="form-group">
                <label>Date:</label>
                <input type="date" id="date" required>
            </div>
            <div class="form-group">
                <label>Item Name:</label>
                <input type="text" id="itemName" required>
            </div>
            <div class="form-group">
                <label>Amount (৳):</label>
                <input type="number" id="amount" required>
            </div>
            <div class="form-group">
                <label>Notes:</label>
                <textarea id="notes"></textarea>
            </div>
            <button type="submit">Add Entry</button>
            <button type="button" id="reportViewBtn">View Report</button>
        </form>

        <table class="entry-table" id="entryTable">
            <thead>
                <tr>
                    <th>Doc No</th>
                    <th>Date</th>
                    <th>Item Name</th>
                    <th>Amount</th>
                    <th>Notes</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Entries will be dynamically added here -->
            </tbody>
        </table>
    </div>

    <!-- Report Modal -->
    <div class="report-modal" id="reportModal">
        <div class="report-modal-content">
            <h3>Report</h3>
            <label>From:</label>
            <input type="date" id="startDate">
            <label>To:</label>
            <input type="date" id="endDate">
            <button id="getReportBtn">Generate</button>
            <button id="closeReportBtn">Close</button>
        </div>
    </div>

    <script>
document.addEventListener("DOMContentLoaded", () => {
    const entryForm = document.getElementById("entryForm");
    const entryTable = document.getElementById("entryTable").querySelector("tbody");
    const totalAmountBox = document.getElementById("totalAmount");
    const reportModal = document.getElementById("reportModal");
    const startDate = document.getElementById("startDate");
    const endDate = document.getElementById("endDate");
    const closeReportBtn = document.getElementById("closeReportBtn");
    const getReportBtn = document.getElementById("getReportBtn");

    let entries = JSON.parse(localStorage.getItem("entries")) || [];
    let totalAmount = 0;

    function formatDate(date) {
        const [year, month, day] = date.split("-");
        return `${day}/${month}/${year}`;
    }

    function renderTable() {
        entryTable.innerHTML = "";
        totalAmount = 0;
        entries.forEach((entry, index) => {
            totalAmount += parseFloat(entry.amount);

            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${entry.docNo}</td>
                <td>${formatDate(entry.date)}</td>
                <td>${entry.itemName}</td>
                <td>৳ ${entry.amount}</td>
                <td>${entry.notes}</td>
                <td>
                    <div class="three-dots" data-index="${index}">
                        •••
                    </div>
                </td>
            `;
            entryTable.appendChild(row);
        });

        totalAmountBox.textContent = `Total: ৳ ${totalAmount}`;
    }

    entryForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const date = document.getElementById("date").value;
        const itemName = document.getElementById("itemName").value;
        const amount = document.getElementById("amount").value;
        const notes = document.getElementById("notes").value;

        const docNo = new Date().getTime();
        entries.push({ docNo, date, itemName, amount, notes });
        localStorage.setItem("entries", JSON.stringify(entries));

        renderTable();
        entryForm.reset();
    });

    getReportBtn.addEventListener("click", () => {
        // Report logic here...
        alert("Report generated!");
    });

    closeReportBtn.addEventListener("click", () => {
        reportModal.style.display = "none";
    });

    renderTable();
});
</script>
</body>
</html>